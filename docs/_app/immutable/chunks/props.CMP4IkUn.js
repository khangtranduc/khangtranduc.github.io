import{W as y,ah as F,ai as N,aj as Y,ak as M,X as l,V as U,a7 as T,al as x,am as G,a0 as L,an as V,af as $,ao as j,ap as z,S as H,aq as W,ab as C,ar as X,C as Z,m as q,as as J}from"./runtime.DIMTQvhB.js";import{p as K}from"./proxy.ClLCET0m.js";let c=!1;function Q(r){var a=c;try{return c=!1,[r(),c]}finally{c=a}}function B(r){for(var a=q,n=q;a!==null&&!(a.f&(x|G));)a=a.parent;try{return L(a),r()}finally{L(n)}}function ae(r,a,n,v){var A;var I=(n&V)!==0,d=!$||(n&j)!==0,o=(n&z)!==0,D=(n&J)!==0,R=!1,t;o?[t,R]=Q(()=>r[a]):t=r[a];var p=H in r||W in r,s=((A=y(r,a))==null?void 0:A.set)??(p&&o&&a in r?e=>r[a]=e:void 0),i=v,P=!0,S=!1,O=()=>(S=!0,P&&(P=!1,D?i=T(v):i=v),i);t===void 0&&v!==void 0&&(s&&d&&F(),t=O(),s&&s(t));var f;if(d)f=()=>{var e=r[a];return e===void 0?O():(P=!0,S=!1,e)};else{var g=B(()=>(I?C:X)(()=>r[a]));g.f|=N,f=()=>{var e=l(g);return e!==void 0&&(i=void 0),e===void 0?i:e}}if(!(n&Y))return f;if(s){var w=r.$$legacy;return function(e,u){return arguments.length>0?((!d||!u||w||R)&&s(u?f():e),e):f()}}var m=!1,h=!1,E=Z(t),_=B(()=>C(()=>{var e=f(),u=l(E);return m?(m=!1,h=!0,u):(h=!1,E.v=e)}));return I||(_.equals=M),function(e,u){if(arguments.length>0){const b=u?l(_):d&&o?K(e):e;return _.equals(b)||(m=!0,U(E,b),S&&i!==void 0&&(i=b),T(()=>l(_))),e}return l(_)}}export{ae as p};
