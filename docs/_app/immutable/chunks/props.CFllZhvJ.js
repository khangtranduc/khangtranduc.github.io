import{a1 as w,ah as y,ai as F,aj as N,ak as M,a2 as l,a0 as U,a7 as T,al as x,am as G,V as L,an as V,af as $,ao as j,ap as z,Y as H,aq as Z,ab as C,ar as J,C as K,m as q,as as Q}from"./runtime.BcKyo7YD.js";import{p as W}from"./proxy.CeXgTrKy.js";let c=!1;function X(r){var a=c;try{return c=!1,[r(),c]}finally{c=a}}function B(r){for(var a=q,n=q;a!==null&&!(a.f&(x|G));)a=a.parent;try{return L(a),r()}finally{L(n)}}function ae(r,a,n,v){var A;var I=(n&V)!==0,d=!$||(n&j)!==0,o=(n&z)!==0,D=(n&Q)!==0,R=!1,t;o?[t,R]=X(()=>r[a]):t=r[a];var Y=H in r||Z in r,s=((A=w(r,a))==null?void 0:A.set)??(Y&&o&&a in r?e=>r[a]=e:void 0),i=v,P=!0,S=!1,O=()=>(S=!0,P&&(P=!1,D?i=T(v):i=v),i);t===void 0&&v!==void 0&&(s&&d&&y(),t=O(),s&&s(t));var f;if(d)f=()=>{var e=r[a];return e===void 0?O():(P=!0,S=!1,e)};else{var g=B(()=>(I?C:J)(()=>r[a]));g.f|=F,f=()=>{var e=l(g);return e!==void 0&&(i=void 0),e===void 0?i:e}}if(!(n&N))return f;if(s){var p=r.$$legacy;return function(e,u){return arguments.length>0?((!d||!u||p||R)&&s(u?f():e),e):f()}}var m=!1,h=!1,E=K(t),_=B(()=>C(()=>{var e=f(),u=l(E);return m?(m=!1,h=!0,u):(h=!1,E.v=e)}));return I||(_.equals=M),function(e,u){if(arguments.length>0){const b=u?l(_):d&&o?W(e):e;return _.equals(b)||(m=!0,U(E,b),S&&i!==void 0&&(i=b),T(()=>l(_))),e}return l(_)}}export{ae as p};
