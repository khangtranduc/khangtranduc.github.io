import{m as F,a8 as N,a9 as Y,aa as p,ab as x,n as l,l as M,z as T,ac as U,ad as z,a6 as L,ae as G,x as $,af as j,ag as H,S as V,ah as Z,ai as q,aj as J,a0 as K,q as B,ak as Q}from"./runtime.C4fXvAoe.js";import{p as W}from"./proxy.BfYbIpy9.js";let c=!1;function X(r){var a=c;try{return c=!1,[r(),c]}finally{c=a}}function C(r){for(var a=B,n=B;a!==null&&!(a.f&(U|z));)a=a.parent;try{return L(a),r()}finally{L(n)}}function ae(r,a,n,v){var A;var I=(n&G)!==0,d=!$||(n&j)!==0,o=(n&H)!==0,D=(n&Q)!==0,R=!1,t;o?[t,R]=X(()=>r[a]):t=r[a];var w=V in r||Z in r,_=((A=F(r,a))==null?void 0:A.set)??(w&&o&&a in r?e=>r[a]=e:void 0),i=v,P=!0,S=!1,g=()=>(S=!0,P&&(P=!1,D?i=T(v):i=v),i);t===void 0&&v!==void 0&&(_&&d&&N(),t=g(),_&&_(t));var f;if(d)f=()=>{var e=r[a];return e===void 0?g():(P=!0,S=!1,e)};else{var O=C(()=>(I?q:J)(()=>r[a]));O.f|=Y,f=()=>{var e=l(O);return e!==void 0&&(i=void 0),e===void 0?i:e}}if(!(n&p))return f;if(_){var y=r.$$legacy;return function(e,u){return arguments.length>0?((!d||!u||y||R)&&_(u?f():e),e):f()}}var E=!1,h=!1,m=K(t),s=C(()=>q(()=>{var e=f(),u=l(m);return E?(E=!1,h=!0,u):(h=!1,m.v=e)}));return I||(s.equals=x),function(e,u){if(arguments.length>0){const b=u?l(s):d&&o?W(e):e;return s.equals(b)||(E=!0,M(m,b),S&&i!==void 0&&(i=b),T(()=>l(s))),e}return l(s)}}export{ae as p};
